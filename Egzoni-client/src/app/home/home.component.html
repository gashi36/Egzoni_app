<!-- Hero Section -->
<section class="hero-section container mt-5">
  <div class="row">
    <!-- Left Banner -->
    <div class="col-lg-6 col-md-12">
      <div class="hero-banner p-4 text-white text-center">
        <h2>Zbritje sezonale</h2>
        <p>Kurse deri në</p>
        <h1 class="display-3 text-danger">40% OFF</h1>
        <p>+ TRANSPORTI FALAS & KTHIMI FALAS</p>
      </div>
    </div>

    <!-- Right Side Offers -->
    <div class="col-lg-6 col-md-12">
      <div class="row">
        <!-- Modern Rugs -->
        <div class="col-12 mb-3">
          <div class="offer-box p-4"
            style="background-image: url('https://karmenhali.com/app/Images/tokyo-01753a-a-bej-a-bej-room2_1658738626.webp'); background-size: cover; background-position: center;">
            <div class="offer-text">
              <h3>Tapete Moderne</h3>
              <h2 class="text-danger">20% OFF</h2>
            </div>
          </div>
        </div>
        <!-- Jute Rugs -->
        <div class="col-12">
          <div class="offer-box p-4"
            style="background-image: url('https://karmenhali.com/app/Images/tokyo-01702-a-gri-a-gri-room1_1658739302.webp'); background-size: cover; background-position: center;">
            <div class="offer-text">
              <h3>Tapete Jute</h3>
              <h2 class="text-danger">30% OFF</h2>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<br>
<!-- Curtain Banner Section -->
<section class="container carpet-banner">
  <div class="curtain-banner-content">
    <h2>Transformoni Hapësirën Tepih Modern</h2>
    <p>Eksploroni koleksionin tonë luksoz të perdeve për të përfunduar ambientet tuaja.</p>
    <a class="btn-outline-danger" [routerLink]="['/shop']" routerLinkActive="active">Shiko më shumë</a>

  </div>
</section>

<br>
<div *ngIf="products.length === 0">
  <p>Nuk u gjetën produkte!</p>
</div>
<div class="container">
  <div *ngIf="products.length > 0">
    <p-carousel [value]="products" [numVisible]="5" [numScroll]="1" [circular]="true" [autoplayInterval]="3000"
      [responsiveOptions]="responsiveOptions" [showNavigators]="true" [showIndicators]="false">
      <ng-template let-product pTemplate="item">
        <div class="product-card">
          <img [src]="getProductThumbnailUrl(product)" [alt]="product.code" class="product-image"
            (click)="navigateToProduct(product.id)" />
          <div class="product-info">
            <!-- Emri i Produktit -->
            <h4 class="product-name">{{ product.code }}</h4>

            <!-- Çmimi i Produktit -->
            <div class="product-price-row">
              <span>{{ product.retailPrice | currency: 'EUR' }}</span>
            </div>

            <!-- Butoni ZGJEDH -->
            <button class="btn btn-outline-success" (click)="addToCart(product.id)">
              <i class="bi bi-cart-check"></i>
            </button>
          </div>
        </div>
      </ng-template>
    </p-carousel>
  </div>
</div>
<br>
<section class="container last-brands-section mt-5">
  <h2 class="text-center">Koleksioni ynë i Fundit i Brendeve</h2>

  <div *ngFor="let brand of getLastThreeBrands()" class="brand-section mb-5">
    <!-- Brand Banner -->
    <div class="brand-banner d-flex align-items-center">
      <div class="brand-content">
        <a [routerLink]="['/shop']" [queryParams]="{ brand: brand.id }"
          (click)="navigateToShopWithFilters('brand', brand.id)"> <img *ngIf="brand.logoUrl" [src]="brand.logoUrl"
            alt="{{ brand.name }} Logo" class="brand-logo" (error)="removeImage($event)" />
        </a>
      </div>
    </div>

    <div class="brand-products mt-4">
      <h6 class="text-center">Produkte nga {{ brand.name }}</h6>
      <div class="col-md-9 mx-auto">
        <div class="row row-cols-1 row-cols-md-5 g-4 justify-content-center">
          <div *ngFor="let product of getProductsForBrand(brand.id)" class="col">
            <div class="card product-card" (click)="navigateToProduct(product.id)">
              <!-- Image Section -->
              <div class="card-image-wrapper">
                <img [src]="getProductThumbnailUrl(product)" class="card-img-top" alt="{{ product.code }}" />
                <div *ngIf="product.discountedPrice" class="discount-badge">
                  -{{ product.sales[0].discountPercentage }}%
                </div>
              </div>

              <!-- Product Info Section -->
              <div class="card-body">
                <h5 class="card-title">{{ getBrandName(product.brandId) }} - {{ product.code }}</h5>
                <p class="card-text product-size">Size: {{ product.size }}</p>
                <div class="price-section">
                  <span *ngIf="product.discountedPrice; else regularPrice" class="price">
                    <span class="original-price">{{ product.retailPrice | number: '1.2-2' }} €</span>
                    <span class="discounted-price">{{ product.discountedPrice | number: '1.2-2' }} €</span>
                  </span>
                  <ng-template #regularPrice>
                    <span class="regular-price">{{ product.retailPrice | number: '1.2-2' }} €</span>
                  </ng-template>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</section>






<!-- Last Three Categories Section -->



<!-- Featured Curtains Section -->
<!-- <section class="featured-curtains-section">
  <h2>Zgjedhja Jonë e Perdeve Elegante</h2>
  <div class="featured-curtains-container">
    <div class="featured-curtain-card">
      <img src="../../assets/cu1.jpg" alt="Perde Moderne Luksoze">
      <div class="featured-curtain-card-content">
        <h3>Perde Moderne </h3>
        <br>
        <a class="btn-outline-danger" [routerLink]="['/shop']" routerLinkActive="active">Shiko më shumë</a>
      </div>
    </div>
    <div class="featured-curtain-card">
      <img src="../../assets/cu2.jpg" alt="Perde Sheer Moderne">
      <div class="featured-curtain-card-content">
        <h3>Perde Sheer Moderne</h3>
        <br>
        <a class="btn-outline-danger" [routerLink]="['/shop']" routerLinkActive="active">Shiko më shumë</a>
      </div>
    </div>
    <div class="featured-curtain-card">
      <img src="../../assets/cu3.webp" alt="Perde Velur Klasike">
      <div class="featured-curtain-card-content">
        <h3>Perde Velur Klasike</h3>
        <br>
        <a class="btn-outline-danger" [routerLink]="['/shop']" routerLinkActive="active">Shiko më shumë</a>
      </div>
    </div>
  </div>
</section> -->