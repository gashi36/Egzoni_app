<div class="container text-center p-5">
  <div class="row justify-content-between">
    <h1 class="col-md-3"><b style="color: red;">Egzoni</b></h1>
    <button class="btn btn-danger col-md-1" (click)="logout()">Shkyqu</button>
  </div>
  <h2>{{isEdit ? 'Ndrysho' : 'Regjistro'}}</h2>
  <form [formGroup]="addProductForm" (submit)="addProductsAsync()">
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="kodi">Kodi:</label>
          <input type="text" id="kodi" class="form-control" style="background-color: beige;" formControlName="kodi"
            placeholder="Kodi">
        </div>
        <div class="form-group">
          <label for="masa">Masa:</label>
          <input type="text" id="masa" class="form-control" style="background-color: beige;" formControlName="masa"
            placeholder="Masa">
        </div>
        <div class="form-group">
          <label for="sasia">Sasia:</label>
          <input type="text" id="sasia" class="form-control" style="background-color: beige;" formControlName="sasia"
            placeholder="Sasia">
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label for="ngjyra">Ngjyra:</label>
          <input type="text" id="ngjyra" class="form-control" style="background-color: beige;" formControlName="ngjyra"
            placeholder="Ngjyra">
        </div>
        <div class="form-group">
          <label for="tipi">Tipi:</label>
          <input type="text" id="tipi" class="form-control" style="background-color: beige;" formControlName="tipi"
            placeholder="Tipi">
        </div>
        <div class="form-group">
          <label for="cmimiIBlerjes">ÇMIMI I BLERJES:</label>
          <input type="text" id="cmimiIBlerjes " class="form-control" style="background-color: beige;"
            formControlName="cmimiIBlerjes" placeholder="Çmimi i blerjes">
        </div>
        <div class="form-group">
          <label for="cmimiIShitjes">ÇMIMI I SHITJES:</label>
          <input type="text" id="cmimiIShitjes" class="form-control" style="background-color: beige;"
            formControlName="cmimiIShitjes" placeholder="Çmimi i shitjes">
        </div>

        <button type="submit" class="btn btn-success mt-3" [disabled]="isAddingProduct">
          <span *ngIf="isAddingProduct" class="spinner-border spinner-border-sm" role="status"
            aria-hidden="true"></span>
          {{isEdit ? 'Ndrysho' : 'Regjistro'}}
        </button>
      </div>
    </div>
  </form>

  <h4 class="col-md-3 p-2">Kerko sipas kodit</h4>
  <div class="searchbar row col-md-12">
    <form [formGroup]="searchProductForm" (ngSubmit)="searchProduct(searchProductForm.controls['search'].value)"
      class="row">
      <div class="col-md-8">
        <input class="form-control p-2" type="text" formControlName="search" style="background-color: beige;"
          placeholder="Kerko">
      </div>
      <div class="col-md-2">
        <button type="submit" class="btn btn-info py-2 px-5" [disabled]="isSearchingProduct">
          <span *ngIf="isSearchingProduct" class="spinner-border spinner-border-sm" role="status"
            aria-hidden="true"></span>
          Kerko
        </button>
      </div>
      <div class="col-md-2">
        <button type="button" class="btn btn-danger py-2 px-5" (click)="cancelSearch()">Anulo</button>
      </div>
    </form>
  </div>

  <hr>
  <h1>Stoku</h1>
  <hr>
  <div class="table-responsive mt-5">
    <table class="table table-striped">
      <thead>
        <tr class="table-dark">
          <th scope="col">ID</th>
          <th scope="col">KODI</th>
          <th scope="col">MASA</th>
          <th scope="col">SASIA</th>
          <th scope="col">NGJYRA</th>
          <th scope="col">TIPI</th>
          <th scope="col">ÇMIMI I BLERJES</th>
          <th scope="col">ÇMIMI I SHITJES</th>
          <th scope="col">FITIMI</th>
          <th scope="col"></th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let pro of products">
          <td class="table-warning">{{pro.id}}</td>
          <td class="table-warning">{{pro.kodi}}</td>
          <td class="table-warning">{{pro.masa}}</td>
          <td class="table-warning">{{pro.sasia}}</td>
          <td class="table-warning">{{pro.ngjyra}}</td>
          <td class="table-warning">{{pro.tipi}}</td>
          <td class="table-warning">{{pro.cmimiIBlerjes}}</td>
          <td class="table-warning">{{pro.cmimiIShitjes}}</td>
          <td class="table-warning">{{pro.fitimi}}</td>
          <td class="table-warning"><button class="btn btn-warning" (click)="editProduct(pro.id)"
              style="color: white;">Ndrysho</button></td>
          <td class="table-warning"><button class="btn btn-delete" (click)="deleteProduct(pro.id)"
              [disabled]="isDeletingProduct">
              <span *ngIf="isDeletingProduct" class="spinner-border spinner-border-sm" role="status"
                aria-hidden="true"></span>
              Fshij
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="row align-content-center justify-content-center">
    <button (click)="loadMoreProducts()" class="btn btn-info col-md-2" [disabled]="isLoadingMoreProducts">
      <span *ngIf="isLoadingMoreProducts" class="spinner-border spinner-border-sm" role="status"
        aria-hidden="true"></span>
      Faqja Tjetër
    </button>
  </div>
</div>